<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>jordanbrock.com &mdash; Upgrading to Capistrano 2</title>
    <link href="/css/reset.css" rel="stylesheet" type="text/css" />
    <link href="/css/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/css/syntax.css" media="screen" rel="stylesheet" type="text/css" />
    <link rel="openid.server" href="http://openid.claimid.com/server">
    <link rel="openid.delegate" href="http://openid.claimid.com/jordanbrock">
    <script type="text/javascript" src="http://use.typekit.com/wmw7icf.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4f8d0d2df5a1f54576000010');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>

  </head>
  <body>
    <div id="container">
      <header>
      <h1><a href="/">Jordan Brock</a></h1>
      </header>
      <div id="content">
        <h2>Upgrading to Capistrano 2</h2>
<time class="meta" datetime="2007-09-14">
  Sep 14, 2007
</time>
<article class="post">
  <p>For no other reason than this is something I need to remember on other projects, here is a list of the changes I made when I uninstalled deprec and upgraded to <a href="http://capify.org">capistrano 2</a> for deployment.</p>
<p>h3. Things to do</p>
<p>p. Do this once</p>
<p>@<br />
gem install mongrel_cluster<br />
@</p>
<p>p. then in the application directory</p>
<p>@<br />
capify .<br />
@</p>
<p>p. then remove &quot;require &#8216;deprec/recipes&#8217; from the deploy.rb file</p>
<p>p. then put the following in to the deploy.rb file</p>
<p>@<br />
namespace :deploy do<br />
  task :start,    :roles =&gt; :app do start_mongrel_cluster end<br />
  task :stop,     :roles =&gt; :app do stop_mongrel_cluster end<br />
  task :restart,  :roles =&gt; :app do restart_mongrel_cluster end<br />
end<br />
@</p>
</article>

      </div>
      <div id="sidebar">
        <h2>Stuff</h2>
        <ul>
          <li><a href="/archive.html">Archive</a></li>
          <li><a href="http://photos.jordanbrock.com">OpenPhoto</a></li>
          <li><a href="http://twitter.com/jordanbrock">twitter</a></li>
          <li><a href="http://strava.com/athletes/jordanbrock">Strava</a></li>
        </ul>
      </div>
      <footer>
        By me.
      </footer>
    </div>
  </body>
</html>
